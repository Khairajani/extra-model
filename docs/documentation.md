# Documentation

* Documentation is written in markdown format and files are kept in the `/docs` directory in the project root.
* API documentation is auto-generated by the `mkdocstrings` package. An example of this can be seen in the `reference.md` file.
* New files must be added to the table of context in `/mkdocs.yml`.

## Develop

1. Run the following command to render and serve documentation locally

        docker-compose run --rm --service-ports mkdocs

1. Visit the local documentation to see your changes while developing  
    **[http://localhost:8000](http://localhost:8000)**  

## Publish

1. Pull down the `gh-pages` branch. This only needs to be done once

        git checkout --track origin/gh-pages
    
1. Generate documentation on your development branch

        docker-compose run --rm mkdocs build

1. Stash changes

        git add site
        git stash
    
1. Checkout the `gh-pages` branch

        git checkout gh-pages

1. Apply stashed changes to `gh-pages` branch

        git checkout stash -- site
    
1. Commit and push your changes

        git commit -m "updating documentation"
        git push
    
1. Visit the hosted documentation  
    **[https://wayfair-incubator.github.io/extra-model/site/](https://wayfair-incubator.github.io/extra-model/site/)**  
